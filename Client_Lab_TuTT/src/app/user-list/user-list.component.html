<div class="container mt-4">
    <div class="row mt-3">
        <h4>DANH SÁCH NGƯỜI DÙNG</h4>
    </div>
    <div class="row mb-3">
        <div class="col-md-2 mt-3">
            <app-select-dropdown [options]="genderOptions" [selectedValue]="searchModel.gender"
                (selectionChange)="onSelectionGenderChange($event)">
            </app-select-dropdown>
        </div>
        <div class="col-md-2 mt-3">
            <div class="input-group">
                <input
                type="text"
                id="singleCalendarAutoLeft"
                class="form-control"
                style="box-shadow: none; text-overflow: ellipsis; overflow: hidden; white-space: nowrap;"
                placeholder="Từ ngày"
                ngxDaterangepickerBootstrap
                [singleDatePicker]="true"
                [(ngModel)]="selectedSingleCalendarAutoLeft"
                [drops]="dropsDown"
                [opens]="opensLeft"
                [locale]="locale"
                [closeOnAutoApply]="true"
                [autoApply]="true"
                (datesUpdated)="datesUpdatedSingle($event)"
                aria-describedby="singleCalendarAutoLeftDesc"
              />
                <!-- <input type="text" class="form-control" placeholder="Từ ngày"> -->
                <!-- <input type="text" class="form-control" bsDatepicker [bsConfig]="bsConfig"> -->
                <div class="input-group-prepend">
                    <span class="input-group-text"><i class="bi bi-calendar"></i></span>
                </div>
            </div>
        </div>
        <div class="col-md-2 mt-3">
            <div class="input-group">
                <input type="text" class="form-control" placeholder="Đến ngày">
                <div class="input-group-prepend">
                    <span class="input-group-text"><i class="bi bi-calendar"></i></span>
                </div>
            </div>

        </div>
        <div class="col-md-6 mt-3">
            <div class="input-group">
                <input type="text" autocomplete="off" class="form-control" placeholder="Tìm kiếm theo..." aria-label="Tìm kiếm theo..."
                    (keyup.enter)="onSearch()" [(ngModel)]="searchModel.key" [ngModelOptions]="{standalone: true}"
                    aria-describedby="basic-addon1">
                <div class="input-group-text">
                    <img src="/assets/images/icons/search-svg.svg">
                </div>
                <button type="button" class="btn btn-primary" (click)="onSearch()">Tìm kiếm</button>
            </div>
        </div>
    </div>
    <div class="row table-responsive">
        <table class="table table-striped">
            <thead>
                <tr>
                    <th class="text-center">STT</th>
                    <th class="text-center">Chọn</th>
                    <th class="text-start">Họ tên</th>
                    <th class="text-center">Tên đăng nhập</th>
                    <th class="text-center">Ngày sinh </th>
                    <th class="text-center">Giới tính </th>
                    <th class="text-center">Điện thoại </th>
                    <th class="text-start">Email</th>
                    <th class="text-center">Sửa</th>
                    <th class="text-center">Xóa</th>
                </tr>
            </thead>
            <tbody>
                <tr *ngFor="let user of dataSource; let i = index">
                    <th class="fw-normal text-center">{{ i + 1 }}</th>
                    <th class="fw-normal text-center"><input class="form-check-input" type="checkbox"
                            id="checkboxNoLabel" value="" aria-label="...">
                    </th>
                    <th class="fw-normal text-start">{{ user.fullName }}</th>
                    <th class="fw-normal text-center">{{ user.username }}</th>
                    <th class="fw-normal text-center">{{ user.birthDate | date:'dd-MM-yyyy' }}</th>
                    <th class="fw-normal text-center">{{ user.gender }}</th>
                    <th class="fw-normal text-center">{{ user.phoneNumber }} </th>
                    <th class="fw-normal text-start">{{ user.email }}</th>
                    <td class="fw-normal text-center">
                        <button class="btn btn-primary btn-sm me-1" (click)="openEditModal(user)"><i
                                class="fas fa-edit"></i></button>
                    </td>
                    <td class="fw-normal text-center">
                        <button class="btn btn-danger btn-sm" (click)="deleteUser(user.id)"><i
                                class="fas fa-trash"></i></button>
                    </td>
                </tr>
            </tbody>
        </table>
    </div>
    <div class="row mt-3">
        <div class="mt-3 col-lg-1 col-md-1 hidden-sm hidden-xs">
            <select id="inputState" class="form-select">
                <option selected>Choose...</option>
                <option>...</option>
            </select>
        </div>
        <div class="mt-3 col-lg-11 col-md-11 col-sm-11 col-xs-11">
            <app-pagination [currentPage]="currentPage" [totalItems]="totalItems" (pageChange)="onPageChange($event)">
            </app-pagination>
        </div>
    </div>
</div>